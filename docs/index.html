<!DOCTYPE html>
<html>
    <head>
        <title>LAMAS Project</title>
        <meta charset="UTF-8">
        <script type="text/javascript" src="https://unpkg.com/vis-data@latest/peer/umd/vis-data.min.js"></script>
        <script type="text/javascript" src="https://unpkg.com/vis-network@latest/peer/umd/vis-network.min.js"></script>
        <script type="text/javascript" src="/The-Number-Game/script/genNavBar.js"></script>
        <link rel="stylesheet" type="text/css" href="https://unpkg.com/vis-network/styles/vis-network.min.css" />
        <link rel="stylesheet" href="/The-Number-Game/css/style.css">
        <link rel="stylesheet" href="/The-Number-Game/css/stylebar.css">
    </head>

    <body onload="genNavBar('navBar');">
        <!-- Load and generate the navigation bar -->
        <div id="navBar" class="topnav"></div>
        <div style='height:10px'></div>
        
        <div class="row">
            <div class="columnPadding"> &nbsp; &nbsp; &nbsp; &nbsp; </div>
            <div class="columnText textBox">
                <h1>
                    Introduction
                </h1>

                    For our project we will consider the generalization of the following logic puzzle.
                    <hr>
                    Assume we have 2 agents, Alice and Bob, both are perfect logicians. Let us pick 2 random positive integers smaller than 100. We tell Alice the sum of these numbers and we tell Bob the product of these numbers. Both know this. Then the following conversations occurs between the agents:
                    <br> <br>
            
                    Bob: I do not know the numbers. <br>
                    Alice: I do not know the numbers. <br>
                    Bob: I do not know the numbers. <br>
                    Alice: I do not know the numbers. <br>
                    Bob: I do not know the numbers. <br>
                    Alice: I do not know the numbers. <br>
                    Bob: I do not know the numbers. <br>
                    Alice: I do not know the numbers. <br>
                    Bob: I do not know the numbers. <br>
                    Alice: I do not know the numbers. <br>
                    Bob: I do not know the numbers. <br>
                    Alice: I do not know the numbers. <br>
                    Bob: I do not know the numbers. <br>
                    Alice: I do not know the numbers. <br>
                    <br>
                    Bob: I do know the numbers! <br>
                    <br>
                    What are the numbers?
                    <hr>

                    <h2>
                        Background of the puzzle
                    </h2>
                        <b>TODO: ADD BACKGROUND</b>

                    <h2>
                        Example on how to solve the problem
                    </h2>
                    <p>
                        This problem is also know as the "Sum and Product" problem which is a variation of the  Freudenthal problem presented in 1969 [1]. An formal analysis using Epistemic knowledge for the Sum and Prodct problem model exists for example in [2] <sup>1</sup>.
                    </p>

                    <p>
                        The puzzle is very similar to Rinekes birthday problem discussed during the course. However, there is a key differenct. In Rinekes birthday puzzle we assume the identity of one of the agents. However, in this puzzle we are a third agent who has no impact on the conversation and is only able to listen. Later on we will also consider this puzzle from the perspective of the agents.
                        The problem looks quite intimidating at first, but the problem reduces relatively quickly when using a computer. We will start by noting that the pairs of numbers have no inherent ordering to them, hence the pairs (3,7) and (7,3) are equivalent. From here on we will denote each pair as (x,y) with x<=y. 
                    </p>
                    <p>
                        For the sake of explanation, let us assume that the random numbers are chosen between [1,6) instead of [1,100). We will use this reduced example to show how we can reduce the set of possible number combinations for each anounchement. 
                    </p>
                    
                    sums = { <br>
                        2  : [(1,1)], <br>
                        3  : [(1,2)], <br>
                        4  : [(1,3), (2,2)], <br>
                        5  : [(1,4), (2,3)], <br>
                        6  : [(1,5), (2,4), (3,3)], <br>
                        7  : [(2,5), (3,4)], <br>
                        8  : [(3,5), (4,4)], <br>
                        9  : [(4,5)], <br>
                        10 : [(5,5)], <br>
                    } <br>
                    products = { <br>
                        1  : [(1,1)], <br>
                        2  : [(1,2)], <br>
                        3  : [(1,3)], <br>
                        4  : [(1,4), (2,2)], <br>
                        5  : [(1,5)], <br>
                        6  : [(2,3)], <br>
                        8  : [(2,4)], <br>
                        9  : [(3,3)], <br>
                        10 : [(2,5)], <br>
                        12 : [(3,4)], <br>
                        15 : [(3,5)], <br>
                        16 : [(4,4)], <br>
                        20 : [(4,5)], <br>
                        25 : [(5,5)], <br>
                    } <br> <br>
            
                    <p>
                        We can use this representation to easily find all the states in which an agent 'would know' the numbers. Let us consider the agent Alice and Alice knows that the sum is 8. Then the states (3,5) and (4,4) are equally likely from the perspective of Alice. If we reverse this reasoning, if Alice knows that there is only one possible pair for her sum value, then she knows the original numbers, namely that pair. 
                    </p>
                    <p>
                        When Bob announces that he does not know the numbers, then we know that it is not any product with only a single possible pair. We can then reduce the set of possible pairs by removing all pairs which do not have any other pairs with the same product. This would result in the following sets:
                    </p>
            
                    removed = { <br>
                        [(1,1), (1,2), (1,3), (1,5), (2,3), (2,4), (3,3), (2,5), (3,4), (3,5), (4,4), (4,5), (5,5)] <br>
                    }<br>
                    sums = { <br>
                        4  : [(2,2)], <br>
                        5  : [(1,4)], <br>
                    } <br>
                    products = { <br>
                        4  : [(1,4), (2,2)], <br>
                    } <br> <br>
            
                    <p>
                    If Bob did know the numbers in the first step then Alice would know that the numbers correspond to a pair in the 'removed' set above. Similarly, when Alice announces that she does not know the number, we can remove all pairs for which there does not exist another pair with the same sum from the set of possible pairs. If we do this we get the following sets:
                    </p>
            
                    removed = { <br>
                        [(1,1), (1,2), (1,3), (1,5), (2,3), (2,4), (3,3), (2,5), (3,4), (3,5), (4,4), (4,5), (5,5)], <br>
                        [(2,2), (1,4)] <br>
                    }<br>
                    sums = {} <br>
                    products = {} <br> <br>
            
                    <p>
                        This can be repeated to obtain all pairs removed during each step. However, we would like to note that it is not always the case that all states are removed by this process.
                    </p>

                    <h2>
                        Overview
                    </h2>
                    <p>     
                        In the next sections (accessible using the bar at the top) we will discuss how we can formulate this problem to epistemic logic as well as looking at how we can create an algorithm that finds all pairs that can be deduced by the agents in both the context of formal logic and a computer algorithm. We have also implemented this algorithm using javascript to provide a visual and interactive demo of the algorithm. Lastly we have added an appendix indicating how the problem can be attempted without using public announcements.
                    </p>
            
                    <p>
                    Do we know that Alice knows (x, y)? We consider (2, 2) and (4, 1) as possible.
                    As already explained, if (2, 2), then Alice would know (2, 2), after we states that
                    we do not know. If on the other hand (4, 1), then N<sub>A</sub> = 5 and Alice would
                    consider (4, 1) or (3, 2) as possible. However, if (3, 2) then N<sub>B</sub> = 6 and the only
                    possible products are (3, 2). Alice can eliminate (3, 2) because we stated that
                    we do not know. Therefore Alice would know (4, 1). So we know that Alice
                    either knows (2, 2) or of (1, 4).
                    </p>
            
                    <p>
                    So after we stated that we do not know, Alice states that she knows. Unfortunately this is old news for us and we still do not know if (2, 2) or (1, 4). An Kripke model that visualizes this is shown below.
                    </p>
            
                    <img src="images/easy_example.PNG" alt="An easy example with 0 < x,y <6.">
            
                    <p>
                    In order to find the solution to the provided puzzle we need to find the pair which is removed at the 15'th announcement. 
                    This solution can easily be computed using the provided code (TODO, update this). When running the code we find that the pair (77,84) is removed at this iteration.
                    </p>
            
                    <p>
                    However, for this puzzle we assumed that at a specific point in the conversation one of the agents knew the numbers. 
                    However, one may ask if there always exists a solution to this problem assuming 2 arbitrary random integers below a predefined threshold. 
                    </p>
            
                    <p>
                    In the next section we will look at the generalizability of this problem and look if there are specific conditions which are necessary and or sufficient for convergence. 
                    We will also restate the puzzle in terms of a logic language (TODO: more specific) and consider if the problem can still be solved without the prior knowledge about the upper bound of the generated random numbers.
                    </p>
            
            
                    # State the problem in terms of epistemic logic
                    # Generalisability of puzzle to arbitrary random values
                    ## Necessary conditions for convergence?
                    ## Sufficient conditions for convergence?
                    # Generalisability if we do not provide random number bound

                    <h1>
                        References
                    </h1>
                    <p>
                    [1] Freudenthal, H.: (formulation of the sum-and-product problem). Nieuw Archief voor Wiskunde 3(17) (1969) 152
                    </p>
                    <p>
                    [2] van Ditmarsch H.P., Ruan J., Verbrugge L.C. (2005) Model Checking Sum and Product. In: Zhang S., Jarvis R. (eds) AI 2005: Advances in Artificial Intelligence. AI 2005. Lecture Notes in Computer Science, vol 3809. Springer, Berlin, Heidelberg
                    </p>
                
            </div>
            <div class="columnPadding"> &nbsp; &nbsp; &nbsp; &nbsp; </div>

        
        1: Until two days before the deadline it was not known to us that the problem is called the Freudenthal problem and that there exists literature about it. Our work is derived completely independent from the cited sources.
        </div>



    </body>
</html>
